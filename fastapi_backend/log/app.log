2025-08-04 12:26:45 - __main__ - INFO - 系统 - 开始PostgreSQL安装和配置...
2025-08-04 12:26:45 - __main__ - INFO - 系统 - 开始在macOS上安装PostgreSQL...
2025-08-04 12:26:45 - __main__ - INFO - 系统 - 未找到Homebrew，正在安装...
2025-08-04 12:26:45 - __main__ - INFO - 系统 - 正在安装Homebrew...
2025-08-04 12:26:45 - __main__ - INFO - 系统 - 执行命令: /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
2025-08-04 12:52:36 - __main__ - ERROR - 系统 - 命令执行超时: /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
2025-08-04 12:52:36 - __main__ - ERROR - 系统 - Homebrew安装失败
2025-08-04 12:52:36 - __main__ - ERROR - 系统 - macOS上PostgreSQL安装失败
2025-08-04 13:52:13 - __main__ - INFO - 系统 - 开始PostgreSQL安装和配置...
2025-08-04 13:52:13 - __main__ - INFO - 系统 - 开始在macOS上安装PostgreSQL...
2025-08-04 13:52:13 - __main__ - INFO - 系统 - 未找到Homebrew，正在安装...
2025-08-04 13:52:13 - __main__ - INFO - 系统 - 正在安装Homebrew...
2025-08-04 13:52:13 - __main__ - INFO - 系统 - 执行命令: /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
2025-08-04 14:02:13 - __main__ - ERROR - 系统 - 命令执行超时: /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
2025-08-04 14:02:13 - __main__ - ERROR - 系统 - Homebrew安装失败
2025-08-04 14:02:13 - __main__ - ERROR - 系统 - macOS上PostgreSQL安装失败
2025-08-04 14:40:52 - __main__ - INFO - 系统 - 开始PostgreSQL安装和配置...
2025-08-04 14:40:52 - __main__ - INFO - 系统 - 开始在macOS上安装PostgreSQL...
2025-08-04 14:40:52 - __main__ - INFO - 系统 - 未找到Homebrew，正在安装...
2025-08-04 14:40:52 - __main__ - INFO - 系统 - 正在安装Homebrew...
2025-08-04 14:40:52 - __main__ - INFO - 系统 - 执行命令: /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
2025-08-04 14:42:11 - __main__ - INFO - 系统 - 安装过程被用户中断
2025-08-11 03:46:44 - __main__ - INFO - 系统 - 开始PostgreSQL数据库建立和初始化...
2025-08-11 03:46:44 - __main__ - INFO - 系统 - .env文件已创建/更新: /Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/.env
2025-08-11 03:46:44 - __main__ - INFO - 系统 - PostgreSQL未安装，开始安装...
2025-08-11 03:46:44 - __main__ - INFO - 系统 - 开始在macOS上安装PostgreSQL...
2025-08-11 03:46:44 - __main__ - INFO - 系统 - 正在安装Homebrew...
2025-08-11 03:46:44 - __main__ - INFO - 系统 - 执行命令: /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
2025-08-11 03:48:23 - __main__ - INFO - 系统 - Homebrew安装成功
2025-08-11 03:48:23 - __main__ - INFO - 系统 - 更新Homebrew...
2025-08-11 03:48:23 - __main__ - INFO - 系统 - 执行命令: brew update
2025-08-11 03:48:26 - __main__ - INFO - 系统 - 执行命令: brew list postgresql@14
2025-08-11 03:48:28 - __main__ - INFO - 系统 - PostgreSQL@14已安装
2025-08-11 03:48:28 - __main__ - INFO - 系统 - 启动PostgreSQL服务...
2025-08-11 03:48:28 - __main__ - INFO - 系统 - 执行命令: brew services start postgresql@14
2025-08-11 03:48:30 - __main__ - INFO - 系统 - PostgreSQL服务 postgresql@14 启动成功
2025-08-11 03:48:35 - __main__ - INFO - 系统 - 等待PostgreSQL服务启动...
2025-08-11 03:48:45 - __main__ - INFO - 系统 - 创建数据库 bj_health_db 和用户 postgres...
2025-08-11 03:48:45 - __main__ - INFO - 系统 - 执行命令: psql -d postgres -c 
DO $$ 
BEGIN 
    IF NOT EXISTS (SELECT FROM pg_catalog.pg_roles WHERE rolname = 'postgres') THEN
        CREATE USER postgres WITH PASSWORD 'tj654478';
        RAISE NOTICE '用户 postgres 已创建';
    ELSE
        ALTER USER postgres WITH PASSWORD 'tj654478';
        RAISE NOTICE '用户 postgres 已存在，密码已更新';
    END IF;
END
$$;

2025-08-11 03:48:45 - __main__ - ERROR - 系统 - 执行命令时发生异常 psql -d postgres -c 
DO $$ 
BEGIN 
    IF NOT EXISTS (SELECT FROM pg_catalog.pg_roles WHERE rolname = 'postgres') THEN
        CREATE USER postgres WITH PASSWORD 'tj654478';
        RAISE NOTICE '用户 postgres 已创建';
    ELSE
        ALTER USER postgres WITH PASSWORD 'tj654478';
        RAISE NOTICE '用户 postgres 已存在，密码已更新';
    END IF;
END
$$;
: [Errno 2] No such file or directory: 'psql'
2025-08-11 03:48:45 - __main__ - ERROR - 系统 - 创建用户失败: [Errno 2] No such file or directory: 'psql'
2025-08-11 03:48:45 - __main__ - ERROR - 系统 - 数据库和用户创建失败
2025-08-11 03:58:14 - __main__ - INFO - 系统 - 开始初始化数据库表...
2025-08-11 03:58:14 - root - INFO - 系统 - 数据库表已创建
2025-08-11 03:58:14 - __main__ - INFO - 系统 - 数据库表初始化完成
2025-08-11 03:58:41 - __main__ - INFO - 系统 - 开始初始化数据库表...
2025-08-11 03:58:41 - root - INFO - 系统 - 数据库表已创建
2025-08-11 03:58:41 - __main__ - INFO - 系统 - 数据库表初始化完成
2025-08-11 03:58:41 - __main__ - ERROR - 系统 - 创建初始数据失败: (psycopg2.errors.UndefinedTable) relation "tb_role" does not exist
LINE 2: FROM tb_role 
             ^

[SQL: SELECT tb_role.role_id AS tb_role_role_id, tb_role.role_name AS tb_role_role_name, tb_role.description AS tb_role_description, tb_role.created_at AS tb_role_created_at 
FROM tb_role 
WHERE tb_role.role_name = %(role_name_1)s 
 LIMIT %(param_1)s]
[parameters: {'role_name_1': 'admin', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-11 03:59:22 - __main__ - INFO - 系统 - 开始初始化数据库表...
2025-08-11 03:59:22 - root - INFO - 系统 - 数据库表已创建
2025-08-11 03:59:22 - __main__ - INFO - 系统 - 数据库表初始化完成
2025-08-11 03:59:22 - __main__ - ERROR - 系统 - 创建初始数据失败: (psycopg2.errors.UndefinedTable) relation "tb_role" does not exist
LINE 2: FROM tb_role 
             ^

[SQL: SELECT tb_role.role_id AS tb_role_role_id, tb_role.role_name AS tb_role_role_name, tb_role.description AS tb_role_description, tb_role.created_at AS tb_role_created_at 
FROM tb_role 
WHERE tb_role.role_name = %(role_name_1)s 
 LIMIT %(param_1)s]
[parameters: {'role_name_1': 'admin', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-11 04:07:56 - __main__ - INFO - 系统 - 开始初始化数据库表...
2025-08-11 04:07:56 - root - INFO - 系统 - 数据库表已创建
2025-08-11 04:07:56 - __main__ - INFO - 系统 - 数据库表初始化完成
2025-08-11 04:08:31 - __main__ - INFO - 系统 - 开始初始化数据库表...
2025-08-11 04:08:31 - root - INFO - 系统 - 数据库表已创建
2025-08-11 04:08:31 - __main__ - INFO - 系统 - 数据库表初始化完成
2025-08-11 04:08:31 - __main__ - ERROR - 系统 - 创建初始数据失败: (psycopg2.errors.UndefinedTable) relation "tb_role" does not exist
LINE 2: FROM tb_role 
             ^

[SQL: SELECT tb_role.role_id AS tb_role_role_id, tb_role.role_name AS tb_role_role_name, tb_role.description AS tb_role_description, tb_role.created_at AS tb_role_created_at 
FROM tb_role 
WHERE tb_role.role_name = %(role_name_1)s 
 LIMIT %(param_1)s]
[parameters: {'role_name_1': 'admin', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-11 04:08:54 - root - INFO - 系统 - 数据库表已创建
2025-08-11 04:10:04 - __main__ - INFO - 系统 - 开始初始化数据库表...
2025-08-11 04:10:04 - root - INFO - 系统 - 数据库表已创建
2025-08-11 04:10:04 - __main__ - INFO - 系统 - 数据库表初始化完成
2025-08-11 04:10:05 - __main__ - ERROR - 系统 - 创建初始数据失败: (psycopg2.errors.UndefinedTable) relation "tb_role" does not exist
LINE 2: FROM tb_role 
             ^

[SQL: SELECT tb_role.role_id AS tb_role_role_id, tb_role.role_name AS tb_role_role_name, tb_role.description AS tb_role_description, tb_role.created_at AS tb_role_created_at 
FROM tb_role 
WHERE tb_role.role_name = %(role_name_1)s 
 LIMIT %(param_1)s]
[parameters: {'role_name_1': 'admin', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-11 04:10:24 - root - INFO - 系统 - 数据库表已创建
2025-08-11 04:10:55 - __main__ - INFO - 系统 - 开始初始化数据库表...
2025-08-11 04:10:55 - root - INFO - 系统 - 数据库表已创建
2025-08-11 04:10:55 - __main__ - INFO - 系统 - 数据库表初始化完成
2025-08-11 04:10:55 - __main__ - INFO - 系统 - 创建管理员角色
2025-08-11 04:10:55 - __main__ - INFO - 系统 - 创建普通用户角色
2025-08-11 04:10:55 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-11 04:10:55 - __main__ - INFO - 系统 - 创建默认管理员用户: admin/admin123
2025-08-11 04:10:55 - __main__ - INFO - 系统 - 创建权限: user_read
2025-08-11 04:10:55 - __main__ - INFO - 系统 - 创建权限: user_write
2025-08-11 04:10:55 - __main__ - INFO - 系统 - 创建权限: data_read
2025-08-11 04:10:55 - __main__ - INFO - 系统 - 创建权限: data_write
2025-08-11 04:10:55 - __main__ - INFO - 系统 - 创建权限: model_read
2025-08-11 04:10:55 - __main__ - INFO - 系统 - 创建权限: model_write
2025-08-11 04:10:55 - __main__ - INFO - 系统 - 创建权限: result_read
2025-08-11 04:10:55 - __main__ - INFO - 系统 - 创建权限: result_write
2025-08-11 04:10:55 - __main__ - INFO - 系统 - 创建权限: admin_all
2025-08-11 04:10:55 - __main__ - INFO - 系统 - 初始数据创建完成
2025-08-11 04:14:41 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-11 04:14:41 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-11 04:14:41 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-11 04:14:41 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-11 04:14:44 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-11 04:14:44 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-11 04:14:44 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-11 04:14:44 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-11 10:30:27 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-11 10:30:27 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-11 10:30:38 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-11 10:30:38 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-11 10:30:38 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-11 10:31:26 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-11 10:31:27 - root - INFO - 系统 - User admin logged in successfully
2025-08-11 10:31:34 - root - INFO - 系统 - User admin logged in successfully
2025-08-11 10:32:37 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-11 10:32:37 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-11 10:32:37 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-11 10:32:50 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-11 10:32:50 - root - INFO - 系统 - User admin logged in successfully
2025-08-11 10:32:50 - root - INFO - 系统 - User admin logged in successfully
2025-08-11 10:33:57 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-11 10:33:57 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-11 10:33:57 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-11 10:35:11 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-11 10:35:12 - root - INFO - 系统 - User admin logged in successfully
2025-08-11 10:35:12 - root - INFO - 系统 - User admin logged in successfully
2025-08-11 12:29:35 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-11 12:29:35 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-11 12:29:35 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-11 12:29:40 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-11 12:29:40 - root - INFO - 系统 - User admin logged in successfully
2025-08-11 12:29:40 - root - INFO - 系统 - User admin logged in successfully
2025-08-11 12:30:42 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-11 12:30:42 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-11 12:31:03 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-11 12:31:03 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-11 12:31:31 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-11 12:31:31 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-11 12:31:31 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-11 12:31:47 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-11 12:31:47 - root - INFO - 系统 - User admin logged in successfully
2025-08-11 12:31:48 - root - INFO - 系统 - User admin logged in successfully
2025-08-11 12:31:48 - root - INFO - 系统 - 用户admin获取了角色ID 1 的权限列表
2025-08-11 12:35:49 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-11 12:35:49 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-11 12:35:49 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-11 12:36:03 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-11 12:36:03 - root - INFO - 系统 - User admin logged in successfully
2025-08-11 12:36:04 - root - INFO - 系统 - User admin logged in successfully
2025-08-11 12:36:04 - root - INFO - 系统 - 用户admin获取了角色ID 1 的权限列表
2025-08-11 12:36:50 - root - INFO - 系统 - User admin logged in successfully
2025-08-11 12:37:00 - root - INFO - 系统 - User admin logged in successfully
2025-08-12 14:37:21 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-12 14:37:21 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-12 14:37:21 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-12 14:37:21 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-12 14:37:21 - root - INFO - 系统 - User admin logged in successfully
2025-08-12 17:20:39 - routers.users - INFO - 系统 - 用户 user 创建成功，操作者：admin
2025-08-12 17:20:57 - root - INFO - 系统 - User user logged in successfully
2025-08-12 17:21:10 - root - WARNING - 系统 - Failed login attempt for username: admin
2025-08-12 17:21:14 - root - INFO - 系统 - User admin logged in successfully
2025-08-15 18:39:53 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-15 18:39:53 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-15 18:39:53 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-15 18:39:53 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-15 18:39:56 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-15 18:39:56 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-15 18:39:56 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-15 18:39:56 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-15 18:39:57 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-15 18:39:57 - root - INFO - 系统 - User admin logged in successfully
2025-08-15 18:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-15 18:45:19 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-15 18:45:19 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-15 18:45:19 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-15 19:26:47 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-15 19:26:47 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-15 19:26:47 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-15 23:43:49 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-15 23:43:49 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-15 23:43:49 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-15 23:43:49 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-15 23:43:52 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-15 23:43:52 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-15 23:43:52 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-15 23:43:52 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-15 23:44:45 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-15 23:44:45 - root - INFO - 系统 - User admin logged in successfully
2025-08-15 23:46:25 - root - INFO - 系统 - 用户admin上传了ZIP数据: 11
2025-08-15 23:52:23 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-15 23:52:23 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-15 23:52:23 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-15 23:52:23 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-15 23:52:26 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-15 23:52:26 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-15 23:52:26 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-15 23:52:26 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-16 08:58:49 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 08:58:49 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 08:58:49 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 08:58:49 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-16 08:58:52 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 08:58:52 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 08:58:52 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 08:58:52 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-16 08:59:00 - auth - ERROR - 系统 - JWT验证失败: Not enough segments
2025-08-16 08:59:44 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 08:59:44 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 08:59:44 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 08:59:44 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-16 08:59:57 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 08:59:57 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 08:59:58 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 08:59:58 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-16 08:59:59 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-16 08:59:59 - root - INFO - 系统 - User admin logged in successfully
2025-08-16 08:59:59 - root - ERROR - 系统 - 预处理数据ID 1 失败: 
2025-08-16 09:00:30 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 09:00:30 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 09:00:30 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:00:30 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:00:53 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 09:00:53 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 09:00:53 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:00:53 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:01:06 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 09:01:06 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 09:01:06 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:01:06 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:01:07 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-16 09:01:08 - root - INFO - 系统 - User admin logged in successfully
2025-08-16 09:01:08 - root - ERROR - 系统 - 预处理数据ID 1 失败: 
2025-08-16 09:01:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 09:01:18 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 09:01:18 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:01:18 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:01:22 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-16 09:01:23 - root - INFO - 系统 - User admin logged in successfully
2025-08-16 09:01:23 - root - ERROR - 系统 - 预处理数据ID 1 失败: 
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 460, in preprocess_single_data
    raise HTTPException(
fastapi.exceptions.HTTPException

2025-08-16 09:01:51 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 09:01:51 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 09:01:52 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:01:52 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:02:15 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 09:02:15 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 09:02:15 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:02:15 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:02:26 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 09:02:26 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 09:02:26 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:02:26 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:02:35 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 09:02:35 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 09:02:35 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:02:35 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:02:38 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-16 09:02:38 - root - INFO - 系统 - User admin logged in successfully
2025-08-16 09:02:38 - root - INFO - 系统 - 数据ID 1 已经预处理完成（存在所有特征图片）
2025-08-16 09:02:38 - root - INFO - 系统 - 用户admin完成了数据ID 1 的预处理
2025-08-16 09:02:46 - root - INFO - 系统 - User admin logged in successfully
2025-08-16 09:02:46 - root - INFO - 系统 - 用户admin完成批量预处理，成功0个，失败1个
2025-08-16 09:03:41 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 09:03:41 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 09:03:41 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:03:41 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:03:53 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 09:03:53 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 09:03:54 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:03:54 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:04:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 09:04:02 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 09:04:02 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:04:02 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:04:05 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-16 09:04:05 - root - INFO - 系统 - User admin logged in successfully
2025-08-16 09:04:05 - root - INFO - 系统 - 数据ID 1 已经预处理完成（存在所有特征图片）
2025-08-16 09:04:05 - root - INFO - 系统 - 用户admin完成批量预处理，成功1个，失败0个
2025-08-16 09:04:11 - root - INFO - 系统 - User admin logged in successfully
2025-08-16 09:04:11 - root - INFO - 系统 - 数据ID 1 已经预处理完成（存在所有特征图片）
2025-08-16 09:04:11 - root - INFO - 系统 - 用户admin完成了数据ID 1 的预处理
2025-08-16 09:16:41 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-16 09:16:41 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-16 09:16:41 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-16 09:16:41 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-16 09:16:47 - root - INFO - 系统 - User admin logged in successfully
2025-08-16 09:16:57 - root - INFO - 系统 - 数据ID 1 已经预处理完成（存在所有特征图片）
2025-08-16 09:16:57 - root - INFO - 系统 - 用户admin完成了数据ID 1 的预处理
2025-08-18 15:41:52 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-18 15:41:52 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-18 15:41:52 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-18 15:41:52 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-18 15:41:55 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-18 15:41:55 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-18 15:41:55 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-18 15:41:55 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-18 15:41:55 - auth - ERROR - 系统 - JWT验证失败: Signature has expired.
2025-08-18 15:41:59 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-18 15:42:00 - root - INFO - 系统 - User admin logged in successfully
2025-08-18 15:42:16 - root - INFO - 系统 - 用户admin上传了ZIP数据: aa
2025-08-18 15:42:31 - root - ERROR - 系统 - 数据预处理失败: The sklearn package is required to use method='fastica', package was not found
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/data_preprocess.py", line 231, in treat
    ica.fit(raw_ica, decim=3)  # 降采样以加速ICA
  File "<decorator-gen-450>", line 12, in fit
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/mne/preprocessing/ica.py", line 671, in fit
    _require_version(mod, f"use method={repr(method)}")
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/mne/utils/check.py", line 157, in _require_version
    raise ImportError(f"The {lib} package{extra} is required to {what}, " f"{why}")
ImportError: The sklearn package is required to use method='fastica', package was not found

2025-08-18 15:42:31 - root - ERROR - 系统 - 预处理数据ID 2 失败: 
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 486, in preprocess_single_data
    raise HTTPException(
fastapi.exceptions.HTTPException

2025-08-18 15:47:30 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-18 15:47:30 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-18 15:47:30 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-18 15:47:30 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-18 15:47:33 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-18 15:47:33 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-18 15:47:33 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-18 15:47:33 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 14:44:41 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 14:44:41 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 14:44:41 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 14:44:41 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-21 14:44:44 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 14:44:44 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 14:44:44 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 14:44:44 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 14:44:51 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-21 14:44:51 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 14:45:17 - root - INFO - 系统 - 最终数据形状: (108, 59, 1000)
2025-08-21 14:45:17 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:17 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:17 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:17 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 14:45:19 - root - WARNING - 系统 - 血清数据文件不存在: /Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/data/aa/xq.csv
2025-08-21 14:45:19 - root - WARNING - 系统 - 量表数据文件不存在: /Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/data/aa/lb.csv
2025-08-21 14:45:19 - root - INFO - 系统 - 用户admin完成了数据ID 2 的预处理
2025-08-21 14:48:45 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 14:48:45 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 14:48:45 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 14:48:45 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 14:49:09 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 14:49:09 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 14:49:09 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 14:49:09 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 14:49:32 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 14:49:32 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 14:49:32 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 14:49:32 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 15:35:57 - __main__ - INFO - 系统 - 开始执行数据库迁移...
2025-08-21 15:35:57 - __main__ - INFO - 系统 - 添加 preprocess_status 字段...
2025-08-21 15:35:57 - __main__ - ERROR - 系统 - 数据库迁移失败: (psycopg2.errors.SyntaxError) syntax error at or near "COMMENT"
LINE 4:                 COMMENT '预处理状态: pending, processing, co...
                        ^

[SQL: 
                ALTER TABLE tb_data 
                ADD COLUMN preprocess_status VARCHAR(20) NOT NULL DEFAULT 'pending' 
                COMMENT '预处理状态: pending, processing, completed, failed';
            ]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 15:35:57 - __main__ - ERROR - 系统 - Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.SyntaxError: syntax error at or near "COMMENT"
LINE 4:                 COMMENT '预处理状态: pending, processing, co...
                        ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/migrate_preprocess_fields.py", line 48, in migrate_database
    session.execute(text("""
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2199, in _execute_internal
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.SyntaxError) syntax error at or near "COMMENT"
LINE 4:                 COMMENT '预处理状态: pending, processing, co...
                        ^

[SQL: 
                ALTER TABLE tb_data 
                ADD COLUMN preprocess_status VARCHAR(20) NOT NULL DEFAULT 'pending' 
                COMMENT '预处理状态: pending, processing, completed, failed';
            ]
(Background on this error at: https://sqlalche.me/e/20/f405)

2025-08-21 15:36:18 - __main__ - INFO - 系统 - 开始执行数据库迁移...
2025-08-21 15:36:18 - __main__ - INFO - 系统 - 添加 preprocess_status 字段...
2025-08-21 15:36:18 - __main__ - INFO - 系统 - 添加 preprocess_progress 字段...
2025-08-21 15:36:18 - __main__ - INFO - 系统 - 添加 preprocess_time 字段...
2025-08-21 15:36:18 - __main__ - INFO - 系统 - 检查已有数据的预处理状态...
2025-08-21 15:36:18 - __main__ - INFO - 系统 - 数据ID 2 已有FIF文件，更新状态为已完成
2025-08-21 15:36:18 - __main__ - INFO - 系统 - 数据库迁移完成！
2025-08-21 15:45:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 15:45:05 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 15:45:05 - __main__ - ERROR - 系统 - 导入路由模块失败: cannot import name 'get_current_user_ws' from 'auth' (/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/auth.py)
2025-08-21 15:45:11 - __main__ - INFO - 系统 - 开始执行数据库迁移...
2025-08-21 15:45:11 - __main__ - INFO - 系统 - preprocess_status 字段已存在，跳过...
2025-08-21 15:45:11 - __main__ - INFO - 系统 - preprocess_progress 字段已存在，跳过...
2025-08-21 15:45:11 - __main__ - INFO - 系统 - preprocess_time 字段已存在，跳过...
2025-08-21 15:45:11 - __main__ - INFO - 系统 - 检查已有数据的预处理状态...
2025-08-21 15:45:11 - __main__ - INFO - 系统 - 数据库迁移完成！
2025-08-21 15:45:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 15:45:18 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 15:45:18 - __main__ - ERROR - 系统 - 导入路由模块失败: cannot import name 'get_current_user_ws' from 'auth' (/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/auth.py)
2025-08-21 15:48:09 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 15:48:09 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 15:48:09 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 15:48:09 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-21 15:48:13 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 15:48:13 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 15:48:13 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 15:48:13 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:12:03 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 16:12:03 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 16:12:03 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:12:03 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-21 16:12:06 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 16:12:06 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 16:12:06 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:12:06 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:12:13 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-21 16:12:13 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 16:12:23 - root - INFO - 系统 - 用户admin删除了数据ID: 2
2025-08-21 16:13:58 - root - INFO - 系统 - 用户admin上传了ZIP数据: 11
2025-08-21 16:14:06 - root - INFO - 系统 - 数据ID 3 已经预处理完成（存在所有特征图片）
2025-08-21 16:14:06 - root - INFO - 系统 - 用户admin完成了数据ID 3 的预处理
2025-08-21 16:15:03 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 16:15:03 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 16:15:03 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:15:03 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:21:16 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 16:21:16 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 16:21:16 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:21:16 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:21:29 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 16:21:29 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 16:21:29 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:21:29 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:21:39 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 16:21:39 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 16:21:39 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:21:39 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:22:03 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 16:22:03 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 16:22:03 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:22:03 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:22:28 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 16:22:28 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 16:22:28 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:22:28 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:22:54 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 16:22:54 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 16:22:54 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:22:54 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:23:14 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:23:14 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:23:22 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:23:23 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:23:43 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:23:44 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:23:44 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:25:08 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:25:18 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:25:19 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:25:27 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:25:43 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:26:00 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:26:38 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:26:51 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:27:10 - main - ERROR - 系统 - 未处理的异常: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 137, in read_data
    data = query.order_by(db_models.Data.upload_time.desc()).offset(skip).limit(limit).all()
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2693, in all
    return self._iter().all()  # type: ignore
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2847, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2308, in execute
    return self._execute_internal(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column tb_data.processing_status does not exist
LINE 1: ...r_id, tb_data.upload_time AS tb_data_upload_time, tb_data.pr...
                                                             ^

[SQL: SELECT tb_data.id AS tb_data_id, tb_data.personnel_id AS tb_data_personnel_id, tb_data.data_path AS tb_data_data_path, tb_data.upload_user AS tb_data_upload_user, tb_data.personnel_name AS tb_data_personnel_name, tb_data.user_id AS tb_data_user_id, tb_data.upload_time AS tb_data_upload_time, tb_data.processing_status AS tb_data_processing_status, tb_data.feature_status AS tb_data_feature_status 
FROM tb_data ORDER BY tb_data.upload_time DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s]
[parameters: {'param_1': 100, 'param_2': 0}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-21 16:28:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 16:28:04 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 16:28:04 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:28:04 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:30:01 - __main__ - INFO - 系统 - 开始数据库更新...
2025-08-21 16:30:01 - __main__ - INFO - 系统 - 数据库连接成功
2025-08-21 16:30:01 - __main__ - INFO - 系统 - 添加processing_status字段...
2025-08-21 16:30:01 - __main__ - INFO - 系统 - processing_status字段添加成功
2025-08-21 16:30:01 - __main__ - INFO - 系统 - 添加feature_status字段...
2025-08-21 16:30:01 - __main__ - INFO - 系统 - feature_status字段添加成功
2025-08-21 16:30:01 - __main__ - INFO - 系统 - 数据库更新完成
2025-08-21 16:30:01 - __main__ - INFO - 系统 - 开始更新现有数据的状态...
2025-08-21 16:30:01 - __main__ - INFO - 系统 - 数据ID 1 状态已更新为已完成
2025-08-21 16:30:01 - __main__ - INFO - 系统 - 数据ID 3 状态已更新为已完成
2025-08-21 16:30:01 - __main__ - INFO - 系统 - 状态更新完成，共更新了 2 条记录
2025-08-21 16:30:01 - __main__ - INFO - 系统 - 数据库更新全部完成
2025-08-21 16:30:18 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 16:30:18 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 16:30:18 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:30:18 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-21 16:30:21 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 16:30:21 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 16:30:21 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:30:21 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:30:28 - root - INFO - 系统 - 用户admin删除了数据ID: 3
2025-08-21 16:30:30 - root - INFO - 系统 - 用户admin删除了数据ID: 1
2025-08-21 16:30:38 - root - INFO - 系统 - 用户admin上传了ZIP数据: 1
2025-08-21 16:31:01 - root - INFO - 系统 - 最终数据形状: (108, 59, 1000)
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:01 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:31:02 - root - WARNING - 系统 - 血清数据文件不存在: /Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/data/1/xq.csv
2025-08-21 16:31:02 - root - WARNING - 系统 - 量表数据文件不存在: /Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/data/1/lb.csv
2025-08-21 16:31:02 - root - INFO - 系统 - 用户admin完成了数据ID 4 的预处理
2025-08-21 16:33:13 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 16:33:13 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 16:33:13 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:33:13 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-21 16:33:17 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family ['STFangsong'] not found. Falling back to DejaVu Sans.
2025-08-21 16:33:17 - root - INFO - 系统 - 使用字体: STFangsong
2025-08-21 16:33:17 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:33:17 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:33:17 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-21 16:33:18 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 16:33:23 - root - INFO - 系统 - 用户admin删除了数据ID: 4
2025-08-21 16:33:37 - root - INFO - 系统 - 用户admin上传了ZIP数据: 1
2025-08-21 16:34:03 - root - INFO - 系统 - 最终数据形状: (108, 59, 1000)
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:04 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:05 - matplotlib.font_manager - WARNING - 系统 - findfont: Font family 'STFangsong' not found.
2025-08-21 16:34:06 - root - INFO - 系统 - 用户admin完成了数据ID 5 的预处理
2025-08-21 16:45:25 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 16:45:25 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:45:25 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-21 16:45:28 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 16:45:28 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:45:28 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:45:28 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-21 16:45:29 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 16:45:50 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 16:45:50 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:45:50 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:46:14 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 16:46:14 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:46:14 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:46:22 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-21 16:46:22 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 16:46:48 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 16:46:48 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:46:48 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-21 16:46:51 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 16:46:51 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:46:51 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:46:52 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-21 16:46:52 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 16:48:27 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 16:48:27 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:48:27 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:48:50 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 16:48:50 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:48:50 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:49:10 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 16:49:10 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:49:10 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-21 16:49:13 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 16:49:13 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:49:13 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:49:13 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-21 16:49:13 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 16:49:48 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 16:49:48 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:49:48 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-21 16:50:00 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 16:50:00 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:50:00 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-21 16:50:03 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 16:50:03 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:50:03 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:50:05 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-21 16:50:05 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 16:50:11 - root - INFO - 系统 - 用户admin删除了数据ID: 5
2025-08-21 16:50:16 - root - INFO - 系统 - 用户admin上传了ZIP数据: 1
2025-08-21 16:50:37 - root - INFO - 系统 - 最终数据形状: (108, 59, 1000)
2025-08-21 16:50:38 - root - INFO - 系统 - 用户admin完成了数据ID 6 的预处理
2025-08-21 16:51:26 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 16:51:26 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 16:51:26 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 17:05:54 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-21 17:05:55 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 17:06:49 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 17:07:11 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 17:07:11 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 17:07:11 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 17:07:23 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 17:07:23 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 17:07:23 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 17:07:40 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 17:07:40 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 17:07:40 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-21 17:07:43 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 17:07:43 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 17:07:43 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 17:07:45 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-21 17:07:45 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 17:08:18 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 17:09:05 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 17:10:05 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 17:10:05 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 17:10:05 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-21 17:10:09 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 17:10:09 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 17:10:09 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 17:10:25 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-21 17:10:25 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 17:10:31 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 17:10:41 - root - INFO - 系统 - 用户admin删除了数据ID: 6
2025-08-21 17:10:45 - root - INFO - 系统 - 用户admin上传了ZIP数据: 2
2025-08-21 17:11:03 - root - INFO - 系统 - 最终数据形状: (108, 59, 1000)
2025-08-21 17:11:04 - root - INFO - 系统 - 用户admin完成了数据ID 7 的预处理
2025-08-21 17:15:19 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 17:15:56 - root - INFO - 系统 - User admin logged in successfully
2025-08-21 17:42:03 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 17:42:03 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-21 17:42:04 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-21 17:45:05 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 17:45:40 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 17:45:53 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-21 17:48:40 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:07:02 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:07:19 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:07:51 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:07:51 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:07:51 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 09:07:54 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:07:54 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:07:54 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:07:59 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 09:08:00 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 09:11:38 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:11:38 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:11:38 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 09:11:42 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:11:42 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:11:42 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:11:45 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 09:11:46 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 09:12:15 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 09:13:24 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:13:24 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:13:24 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:33:36 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:33:36 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:33:36 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:33:43 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:33:48 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:33:48 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:33:48 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:34:44 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:34:44 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:34:44 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 09:34:48 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:34:48 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:34:48 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:38:33 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:38:34 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:38:34 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 09:38:37 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:38:37 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:38:37 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:38:42 - main - ERROR - 系统 - 未处理的异常: name 'current_user' is not defined
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/health_evaluate.py", line 408, in view_image
    if current_user.user_type != "admin" and data.user_id != current_user.user_id:
NameError: name 'current_user' is not defined
2025-08-22 09:38:42 - main - ERROR - 系统 - 未处理的异常: name 'current_user' is not defined
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/health_evaluate.py", line 350, in get_data_images
    if current_user.user_type != "admin" and data.user_id != current_user.user_id:
NameError: name 'current_user' is not defined
2025-08-22 09:38:42 - main - ERROR - 系统 - 未处理的异常: name 'current_user' is not defined
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/health_evaluate.py", line 408, in view_image
    if current_user.user_type != "admin" and data.user_id != current_user.user_id:
NameError: name 'current_user' is not defined
2025-08-22 09:38:42 - main - ERROR - 系统 - 未处理的异常: name 'current_user' is not defined
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/health_evaluate.py", line 408, in view_image
    if current_user.user_type != "admin" and data.user_id != current_user.user_id:
NameError: name 'current_user' is not defined
2025-08-22 09:38:42 - main - ERROR - 系统 - 未处理的异常: name 'current_user' is not defined
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/health_evaluate.py", line 408, in view_image
    if current_user.user_type != "admin" and data.user_id != current_user.user_id:
NameError: name 'current_user' is not defined
2025-08-22 09:41:45 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:41:45 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:41:45 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 09:41:48 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:41:48 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:41:48 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:42:18 - main - ERROR - 系统 - 未处理的异常: name 'current_user' is not defined
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 126, in read_data
    if current_user.user_type != "admin":
NameError: name 'current_user' is not defined
2025-08-22 09:42:41 - main - ERROR - 系统 - 未处理的异常: name 'current_user' is not defined
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 126, in read_data
    if current_user.user_type != "admin":
NameError: name 'current_user' is not defined
2025-08-22 09:44:22 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:44:22 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:44:22 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 09:50:17 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:50:17 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:50:17 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 09:50:23 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 09:50:23 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 09:50:24 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 09:50:25 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 09:50:38 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 09:50:38 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 09:50:38 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 10:15:35 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 10:15:35 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 10:15:35 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 10:16:30 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 10:16:30 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 10:16:30 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 10:16:33 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 10:16:33 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 10:16:33 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 10:17:26 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 10:17:26 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 10:17:28 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 10:18:21 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 10:18:21 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 10:18:21 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 10:18:44 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 10:18:44 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 10:18:44 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 10:18:56 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 10:18:56 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 10:18:56 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 10:19:00 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 10:19:00 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 10:19:00 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 10:19:09 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 10:19:09 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 10:19:09 - main - ERROR - 系统 - 未处理的异常: 1 validation error for User
email
  value is not a valid email address: The part after the @-sign is a special-use or reserved name that cannot be used with email. [type=value_error, input_value='admin@system.local', input_type=str]
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/users.py", line 84, in read_user_me
    return User(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/pydantic/main.py", line 164, in __init__
    __pydantic_self__.__pydantic_validator__.validate_python(data, self_instance=__pydantic_self__)
pydantic_core._pydantic_core.ValidationError: 1 validation error for User
email
  value is not a valid email address: The part after the @-sign is a special-use or reserved name that cannot be used with email. [type=value_error, input_value='admin@system.local', input_type=str]
2025-08-22 11:16:29 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 11:16:29 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:29:25 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 11:29:25 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:29:44 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 11:29:44 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:29:44 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 11:29:47 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 11:29:47 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:29:47 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:30:03 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 11:30:03 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 11:30:30 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 11:30:30 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:30:30 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:30:39 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 11:30:39 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:30:39 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 11:30:42 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 11:30:42 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:30:42 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:30:58 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 11:30:58 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 11:30:59 - main - ERROR - 系统 - 未处理的异常: name 'current_user' is not defined
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 126, in read_data
    if current_user.user_type != "admin":
NameError: name 'current_user' is not defined
2025-08-22 11:33:22 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 11:33:22 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:33:22 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:33:31 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 11:33:31 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:33:31 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 11:33:34 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 11:33:34 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:33:34 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:33:52 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 11:33:52 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 11:44:01 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 11:44:01 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:44:01 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 11:44:28 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 11:44:28 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:44:28 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 11:44:31 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 11:44:31 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:44:31 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 11:44:51 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 11:44:52 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 13:25:26 - root - INFO - 系统 - 数据ID 7 已经预处理完成（存在所有特征图片）
2025-08-22 13:25:26 - root - ERROR - 系统 - 预处理数据ID 7 失败: name 'current_user' is not defined
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 700, in preprocess_single_data
    logging.info(f"用户{current_user.username}完成了数据ID {data_id} 的预处理")
NameError: name 'current_user' is not defined

2025-08-22 13:25:45 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 13:25:52 - root - INFO - 系统 - 数据ID 7 已经预处理完成（存在所有特征图片）
2025-08-22 13:25:52 - root - ERROR - 系统 - 预处理数据ID 7 失败: name 'current_user' is not defined
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/data.py", line 700, in preprocess_single_data
    logging.info(f"用户{current_user.username}完成了数据ID {data_id} 的预处理")
NameError: name 'current_user' is not defined

2025-08-22 13:26:07 - root - ERROR - 系统 - 处理ZIP文件时发生错误: (psycopg2.errors.ForeignKeyViolation) insert or update on table "tb_data" violates foreign key constraint "tb_data_user_id_fkey"
DETAIL:  Key (user_id)=(admin) is not present in table "tb_user".

[SQL: INSERT INTO tb_data (personnel_id, data_path, upload_user, personnel_name, user_id, upload_time, processing_status, feature_status) VALUES (%(personnel_id)s, %(data_path)s, %(upload_user)s, %(personnel_name)s, %(user_id)s, %(upload_time)s, %(processing_status)s, %(feature_status)s) RETURNING tb_data.id]
[parameters: {'personnel_id': '3', 'data_path': '/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/data/3', 'upload_user': 1, 'personnel_name': '3', 'user_id': 'admin', 'upload_time': datetime.datetime(2025, 8, 22, 13, 26, 7, 277279), 'processing_status': 'pending', 'feature_status': 'pending'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-08-22 13:27:12 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:27:12 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:27:12 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:27:19 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:27:19 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:27:19 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:27:26 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:27:26 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:27:26 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:27:32 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:27:32 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:27:32 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:27:38 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:27:38 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:27:38 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:27:44 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:27:44 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:27:45 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:27:52 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:27:52 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:27:52 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:28:07 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:28:07 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:28:07 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:28:36 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:28:36 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:28:36 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:28:44 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:28:44 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:28:44 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:28:53 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:28:53 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:28:53 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 13:28:56 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:28:56 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:28:56 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:29:06 - root - INFO - 系统 - 数据ID 7 已经预处理完成（存在所有特征图片）
2025-08-22 13:29:06 - root - INFO - 系统 - 管理员完成了数据ID 7 的预处理
2025-08-22 13:37:08 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:37:08 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:37:08 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 13:37:58 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:37:58 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:37:58 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 13:38:01 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:38:01 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:38:01 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:38:41 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 13:38:41 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 13:38:54 - root - INFO - 系统 - 管理员上传了ZIP数据: 3
2025-08-22 13:39:08 - root - INFO - 系统 - 最终数据形状: (108, 59, 1000)
2025-08-22 13:39:10 - root - INFO - 系统 - 管理员完成了数据ID 9 的预处理
2025-08-22 13:43:47 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 13:44:26 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:44:26 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:44:26 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:46:52 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:46:56 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:46:59 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:47:08 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:47:13 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:47:40 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:47:40 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:47:40 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:49:40 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:49:40 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:49:41 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:50:08 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:50:08 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:50:08 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 13:50:52 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:50:52 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:50:52 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:51:15 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:51:15 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:51:15 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:51:32 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:51:32 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:51:33 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:51:40 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:51:40 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:51:40 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:52:16 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:52:16 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:52:16 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:52:30 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:52:30 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:52:31 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:55:42 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:55:42 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:55:42 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 13:55:45 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:55:45 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:55:45 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:55:50 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 13:55:50 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 13:57:41 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:57:41 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:57:41 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 13:58:01 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:58:01 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:58:01 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 13:58:04 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:58:04 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:58:04 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:58:13 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 13:58:14 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 13:58:45 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 13:58:45 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:58:45 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 13:58:55 - main - ERROR - 系统 - 未处理的异常: name 'current_user' is not defined
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/results.py", line 302, in get_result_statistics
    if current_user.user_type != "admin":
NameError: name 'current_user' is not defined
2025-08-22 13:58:55 - main - ERROR - 系统 - 未处理的异常: name 'current_user' is not defined
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/results.py", line 302, in get_result_statistics
    if current_user.user_type != "admin":
NameError: name 'current_user' is not defined
2025-08-22 13:59:08 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 13:59:08 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 13:59:10 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 14:02:52 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:02:52 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:02:52 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 14:02:56 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:02:56 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:02:56 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:03:08 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 14:03:08 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 14:03:18 - auth - ERROR - 系统 - JWT验证失败: Signature verification failed.
2025-08-22 14:03:25 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 14:06:15 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:06:15 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:06:15 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 14:06:38 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:06:38 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:06:38 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 14:06:41 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:06:41 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:06:41 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:06:48 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 14:06:49 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 14:07:04 - main - ERROR - 系统 - 未处理的异常: name 'current_user' is not defined
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/results.py", line 302, in get_result_statistics
    if current_user.user_type != "admin":
NameError: name 'current_user' is not defined
2025-08-22 14:07:04 - main - ERROR - 系统 - 未处理的异常: name 'current_user' is not defined
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/results.py", line 302, in get_result_statistics
    if current_user.user_type != "admin":
NameError: name 'current_user' is not defined
2025-08-22 14:07:18 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 14:07:21 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 14:51:36 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:51:36 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:51:36 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:52:21 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:52:21 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:52:21 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:52:42 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:52:42 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:52:42 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 14:52:45 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:52:45 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:52:45 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:52:50 - root - ERROR - 系统 - 分析过程中出现错误: 不支持的文件格式: 
2025-08-22 14:52:50 - root - ERROR - 系统 - 健康评估失败: 不支持的文件格式: 
2025-08-22 14:52:50 - root - ERROR - 系统 - Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/health_evaluate.py", line 85, in evaluate_health
    analyze_eeg_data(data_path)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/data_feature_calculation.py", line 428, in analyze_eeg_data
    data1, eeg_data = load_preprocess_data(actual_file_path)
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/data_feature_calculation.py", line 152, in load_preprocess_data
    raise NotImplementedError(f"不支持的文件格式: {ext}")
NotImplementedError: 不支持的文件格式: 

2025-08-22 14:53:43 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:53:43 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:53:43 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:53:47 - root - INFO - 系统 - File /Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/data/2/fif.fif is already processed with visualizations
2025-08-22 14:53:48 - root - ERROR - 系统 - 错误：数据库中未找到类型为0的模型
2025-08-22 14:53:48 - root - ERROR - 系统 - 健康评估失败: 
2025-08-22 14:53:48 - root - ERROR - 系统 - Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/routers/health_evaluate.py", line 106, in evaluate_health
    raise HTTPException(
fastapi.exceptions.HTTPException

2025-08-22 14:55:18 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:55:18 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:55:18 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:55:35 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:55:35 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:55:35 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:55:49 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:55:49 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:55:50 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:55:58 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:55:58 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:55:59 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:56:03 - root - INFO - 系统 - File /Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/data/2/fif.fif is already processed with visualizations
2025-08-22 14:56:04 - root - INFO - 系统 - 成功加载TFLite模型: /Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/model/yingji/subject-1_yingji_quantized.tflite
2025-08-22 14:56:34 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:56:34 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:56:34 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 14:56:37 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 14:56:37 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 14:56:37 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 16:40:04 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 16:40:04 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 16:40:04 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 16:40:08 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 16:40:08 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 16:40:08 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 16:40:15 - root - INFO - 系统 - File /Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/data/3/fif.fif is already processed with visualizations
2025-08-22 16:40:15 - root - INFO - 系统 - 成功加载TFLite模型: /Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/model/yingji/subject-1_yingji_quantized.tflite
2025-08-22 16:40:56 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 16:40:56 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 16:40:56 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 16:40:59 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 16:40:59 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 16:40:59 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 19:00:52 - passlib.handlers.bcrypt - WARNING - 系统 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/venv/lib/python3.9/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-22 19:00:53 - root - INFO - 系统 - User admin logged in successfully
2025-08-22 19:00:59 - root - INFO - 系统 - File /Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/data/3/fif.fif is already processed with visualizations
2025-08-22 19:00:59 - root - INFO - 系统 - 成功加载TFLite模型: /Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/model/yingji/subject-1_yingji_quantized.tflite
2025-08-22 19:01:23 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 19:01:23 - __main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 19:01:23 - __main__ - INFO - 系统 - 启动北京健康评估系统API服务器
2025-08-22 19:01:26 - root - INFO - 系统 - 使用字体: Arial Unicode MS
2025-08-22 19:01:26 - __mp_main__ - INFO - 系统 - 所有路由模块加载成功
2025-08-22 19:01:26 - main - INFO - 系统 - 所有路由模块加载成功
2025-08-22 19:01:28 - root - INFO - 系统 - File /Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/data/3/fif.fif is already processed with visualizations
2025-08-22 19:01:29 - root - INFO - 系统 - 成功加载TFLite模型: /Users/mac/work/东华/项目/2024/装备部/start/code/bj_health_csq/fastapi_backend/model/yingji/subject-1_yingji_quantized.tflite
2025-09-24 14:31:10 - __main__ - INFO - 系统 - 开始PostgreSQL Windows安装和配置...
2025-09-24 14:31:10 - __main__ - INFO - 系统 - Windows版本: 10.0.19045
2025-09-24 14:31:10 - __main__ - INFO - 系统 - .env文件已存在
2025-09-24 14:31:10 - __main__ - INFO - 系统 - 开始在Windows上安装PostgreSQL...
2025-09-24 14:31:11 - __main__ - INFO - 系统 - 正在下载: https://get.enterprisedb.com/postgresql/postgresql-14.9-1-windows-x64.exe
2025-09-24 14:31:47 - __main__ - INFO - 系统 - 下载完成: postgresql-14.9-1-windows-x64.exe
2025-09-24 14:31:47 - __main__ - INFO - 系统 - 正在安装PostgreSQL...
2025-09-24 14:31:47 - __main__ - INFO - 系统 - 执行命令: postgresql-14.9-1-windows-x64.exe --mode unattended --superpassword tj654478 --servicename postgresql --serviceaccount postgres --servicepassword tj654478 --serverport 5432
2025-09-24 14:32:08 - __main__ - ERROR - 系统 - 命令执行失败: postgresql-14.9-1-windows-x64.exe --mode unattended --superpassword tj654478 --servicename postgresql --serviceaccount postgres --servicepassword tj654478 --serverport 5432
2025-09-24 14:32:08 - __main__ - ERROR - 系统 - 错误输出: 
2025-09-24 14:32:08 - __main__ - ERROR - 系统 - PostgreSQL安装失败
2025-09-24 14:32:08 - __main__ - ERROR - 系统 - 安装输出: 
2025-09-24 14:32:08 - __main__ - ERROR - 系统 - Windows上PostgreSQL安装失败
