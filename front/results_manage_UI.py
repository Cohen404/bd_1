# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'results_view.ui'
#
# Created by: PyQt5 UI code generator 5.15.4
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtGui import QFont

from front.component import create_header, create_bottom


class Ui_MainWindow(object):
    """
    结果查看界面UI类
    
    负责创建和设置结果查看界面的所有UI元素
    """

    def setupUi(self, MainWindow):
        """
        设置结果查看界面UI
        
        参数:
        MainWindow (QMainWindow): 主窗口对象
        
        功能:
        - 设置窗口基本属性（标题、大小、样式）
        - 创建并设置中央窗口部件
        - 设置布局（垂直布局）
        - 添加页面头部
        - 创建并添加当前评估结果显示区域
        - 创建并添加EEG特征图显示区域
        - 创建并添加历史评估结果表格
        - 设置样式和字体
        """
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(1000, 750)
        MainWindow.setStyleSheet("QMainWindow{background-color:#d4e2f4}")
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        # self.widget = QtWidgets.QWidget(self.centralwidget)
        # self.widget.setGeometry(QtCore.QRect(180, 151, 528, 434))
        # self.widget.setObjectName("widget")

        # 垂直方向布局
        self.layout = QtWidgets.QVBoxLayout(self.centralwidget)

        # 返回header组件
        self.header_layout, _, self.btn_return, self.time_show, self.statu_show = create_header('结果查看')
        self.layout.addLayout(self.header_layout)

        self.gridLayout = QtWidgets.QGridLayout(self.centralwidget)
        self.gridLayout.setObjectName("gridLayout")

        # 当前评估结果
        self.widget_2 = QtWidgets.QWidget(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Expanding)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.widget_2.sizePolicy().hasHeightForWidth())
        self.widget_2.setSizePolicy(sizePolicy)
        self.widget_2.setStyleSheet("background-color: #5c8ac3;border-radius:20px")
        self.widget_2.setObjectName("widget_2")
        self.verticalLayout_3 = QtWidgets.QVBoxLayout(self.widget_2)
        self.verticalLayout_3.setObjectName("verticalLayout_3")

        self.life_label = QtWidgets.QLabel(self.widget_2)
        self.life_label.setAlignment(QtCore.Qt.AlignCenter)
        self.life_label.setObjectName("life_label")
        self.verticalLayout_3.addWidget(self.life_label)

        # 让label显示在最上面而添加的弹簧
        spacer = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout_3.addItem(spacer)


        # 创建状态的Widget
        self.classifer = QtWidgets.QWidget(self.centralwidget)
        self.classifer.setStyleSheet("background-color: #5c8ac3; border-radius: 20px")
        self.classifer.setObjectName("classifer")

        # 垂直布局设置到classifer
        self.verticalLayout1 = QtWidgets.QVBoxLayout(self.classifer)
        self.verticalLayout1.setObjectName("verticalLayout1")

        # 健康状态 (平稳运行阶段)
        self.health_layout = QtWidgets.QHBoxLayout()
        self.health_led_label = QtWidgets.QLabel(self.classifer)
        self.health_led_label.setStyleSheet(
            "min-width: 30px; min-height: 30px; max-width: 30px; max-height: 30px; border-radius: 16px; border: 2px solid white; background: white"
        )
        self.health_led_label.setText("")
        self.health_led_label.setObjectName("health_led_label")
        self.health_label = QtWidgets.QLabel(self.classifer)
        self.health_label.setObjectName("health_label")

        # 创建弹簧并添加到布局
        self.health_spacer = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding,
                                                   QtWidgets.QSizePolicy.Minimum)
        self.health_layout.addItem(self.health_spacer)  # 添加弹簧
        self.health_layout.addWidget(self.health_led_label)
        self.health_layout.addWidget(self.health_label)
        self.health_layout.addItem(self.health_spacer)  # 添加弹簧

        # 声学故障 (声学故障阶段)
        self.acoustic_layout = QtWidgets.QHBoxLayout()
        self.acoustic_led_label = QtWidgets.QLabel(self.classifer)
        self.acoustic_led_label.setStyleSheet(
            "min-width: 30px; min-height: 30px; max-width: 30px; max-height: 30px; border-radius: 16px; border: 2px solid white; background: white"
        )
        self.acoustic_led_label.setText("")
        self.acoustic_led_label.setObjectName("acoustic_led_label")
        self.acoustic_label = QtWidgets.QLabel(self.classifer)
        self.acoustic_label.setObjectName("acoustic_label")

        # 创建弹簧并添加到布局
        self.acoustic_spacer = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding,
                                                     QtWidgets.QSizePolicy.Minimum)

        self.acoustic_layout.addItem(self.acoustic_spacer)  # 添加弹簧
        self.acoustic_layout.addWidget(self.acoustic_led_label)
        self.acoustic_layout.addWidget(self.acoustic_label)
        self.acoustic_layout.addItem(self.acoustic_spacer)  # 添加弹簧


        # 机械故障 (机械故障阶段)
        self.mechanical_layout = QtWidgets.QHBoxLayout()
        self.mechanical_led_label = QtWidgets.QLabel(self.classifer)
        self.mechanical_led_label.setStyleSheet(
            "min-width: 30px; min-height: 30px; max-width: 30px; max-height: 30px; border-radius: 16px; border: 2px solid white; background: white"
        )
        self.mechanical_led_label.setText("")
        self.mechanical_led_label.setObjectName("mechanical_led_label")
        self.mechanical_label = QtWidgets.QLabel(self.classifer)
        self.mechanical_label.setObjectName("mechanical_label")

        # 创建弹簧并添加到布局
        self.mechanical_spacer = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding,
                                                       QtWidgets.QSizePolicy.Minimum)

        self.mechanical_layout.addItem(self.mechanical_spacer)  # 添加弹簧
        self.mechanical_layout.addWidget(self.mechanical_led_label)
        self.mechanical_layout.addWidget(self.mechanical_label)
        self.mechanical_layout.addItem(self.mechanical_spacer)  # 添加弹簧


        # 将每个水平布局添加到垂直布局中
        self.verticalLayout1.addLayout(self.health_layout)
        self.verticalLayout1.addLayout(self.acoustic_layout)
        self.verticalLayout1.addLayout(self.mechanical_layout)


        self.verticalLayout_3.addWidget(self.classifer)
        self.verticalLayout_3.addItem(spacer)

        self.gridLayout.addWidget(self.widget_2, 0, 0, 1, 1)

        # 显示EEG特征图
        self.widget = QtWidgets.QWidget(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Expanding)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.widget.sizePolicy().hasHeightForWidth())
        self.widget.setSizePolicy(sizePolicy)
        self.widget.setStyleSheet("background-color: #5c8ac3;border-radius:20px")
        self.widget.setObjectName("widget")
        self.verticalLayout_2 = QtWidgets.QVBoxLayout(self.widget)
        self.verticalLayout_2.setObjectName("verticalLayout_2")

        self.status_label = QtWidgets.QLabel(self.widget)
        self.status_label.setAlignment(QtCore.Qt.AlignCenter)
        self.status_label.setObjectName("status_label")
        self.verticalLayout_2.addWidget(self.status_label)

        self.status_graphicsView = QtWidgets.QGraphicsView(self.widget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Expanding)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.status_graphicsView.sizePolicy().hasHeightForWidth())
        self.status_graphicsView.setSizePolicy(sizePolicy)
        self.status_graphicsView.setObjectName("status_graphicsView")
        self.verticalLayout_2.addWidget(self.status_graphicsView)

        # 添加一个水平布局
        self.button_layout = QtWidgets.QHBoxLayout()
        self.verticalLayout_2.addLayout(self.button_layout)

        # 在水平布局中添加两个按钮
        self.pushButton = QtWidgets.QPushButton(self.widget)
        self.pushButton.setObjectName("prevButton")
        self.button_layout.addWidget(self.pushButton)
        self.pushButton_2 = QtWidgets.QPushButton(self.widget)
        self.pushButton_2.setObjectName("nextButton")
        self.button_layout.addWidget(self.pushButton_2)
        self.pushButton.setStyleSheet("background-color: white;")
        self.pushButton_2.setStyleSheet("background-color: white; ")

        self.gridLayout.addWidget(self.widget, 0, 1, 1, 1)


        # 历史评估结果
        self.widget1 = QtWidgets.QWidget(self.centralwidget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Expanding)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.widget1.sizePolicy().hasHeightForWidth())
        self.widget1.setSizePolicy(sizePolicy)
        self.widget1.setStyleSheet("background-color: #5c8ac3;border-radius:20px")
        self.widget1.setObjectName("widget1")
        self.verticalLayout = QtWidgets.QVBoxLayout(self.widget1)
        self.verticalLayout.setObjectName("verticalLayout")

        self.pressure_curve_label = QtWidgets.QLabel(self.widget1)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.pressure_curve_label.sizePolicy().hasHeightForWidth())

        self.pressure_curve_label.setSizePolicy(sizePolicy)
        self.pressure_curve_label.setAlignment(QtCore.Qt.AlignCenter)
        self.pressure_curve_label.setObjectName("pressure_curve_label")
        self.verticalLayout.addWidget(self.pressure_curve_label)

        # 原本的图
        # self.curve_graphicsView = QtWidgets.QGraphicsView(self.widget1)
        # sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Expanding)
        # sizePolicy.setHorizontalStretch(0)
        # sizePolicy.setVerticalStretch(0)
        # sizePolicy.setHeightForWidth(self.curve_graphicsView.sizePolicy().hasHeightForWidth())
        # self.curve_graphicsView.setSizePolicy(sizePolicy)
        # self.curve_graphicsView.setObjectName("curve_graphicsView")
        # self.verticalLayout.addWidget(self.curve_graphicsView)

        # 改为表格
        self.lst = ['ID', '用户名', '评估时间', '普通应激', '抑郁', '焦虑']
        self.tableWidget = QtWidgets.QTableWidget(self.centralwidget)
        self.tableWidget.setStyleSheet("margin-right:15px")
        self.tableWidget.setObjectName("tableWidget")
        self.tableWidget.setColumnCount(len(self.lst))
        self.tableWidget.setHorizontalHeaderLabels(self.lst)
        self.tableWidget.horizontalHeader().setSectionResizeMode(QtWidgets.QHeaderView.Stretch)
        self.tableWidget.setEditTriggers(QtWidgets.QAbstractItemView.NoEditTriggers)
        self.tableWidget.setSelectionMode(QtWidgets.QAbstractItemView.NoSelection)
        self.verticalLayout.addWidget(self.tableWidget)

        self.gridLayout.addWidget(self.widget1, 1, 0, 2, 2)

        self.verticalLayout_4 = QtWidgets.QVBoxLayout()
        self.verticalLayout_4.setObjectName("verticalLayout_4")
        spacerItem = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout_4.addItem(spacerItem)
        self.horizontalLayout = QtWidgets.QHBoxLayout()
        self.horizontalLayout.setObjectName("horizontalLayout")

        # self.time_choice_label = QtWidgets.QLabel(self.centralwidget)
        # sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        # sizePolicy.setHorizontalStretch(1)
        # sizePolicy.setVerticalStretch(0)
        # sizePolicy.setHeightForWidth(self.time_choice_label.sizePolicy().hasHeightForWidth())
        # self.time_choice_label.setSizePolicy(sizePolicy)
        # self.time_choice_label.setLayoutDirection(QtCore.Qt.LeftToRight)
        # self.time_choice_label.setAlignment(QtCore.Qt.AlignCenter | QtCore.Qt.AlignTrailing | QtCore.Qt.AlignVCenter)
        # self.time_choice_label.setObjectName("time_choice_label")
        # self.horizontalLayout.addWidget(self.time_choice_label)
        # self.time_comboBox = QtWidgets.QComboBox(self.centralwidget)
        # sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        # sizePolicy.setHorizontalStretch(2)
        # sizePolicy.setVerticalStretch(0)
        # sizePolicy.setHeightForWidth(self.time_comboBox.sizePolicy().hasHeightForWidth())
        # self.time_comboBox.setSizePolicy(sizePolicy)
        # self.time_comboBox.setIconSize(QtCore.QSize(16, 16))
        # self.time_comboBox.setObjectName("time_comboBox")
        # self.time_comboBox.addItem("0")
        # self.time_comboBox.addItem("1")
        # self.time_comboBox.addItem("2")
        # self.time_comboBox.addItem("3")
        # self.horizontalLayout.addWidget(self.time_comboBox)
        spacerItem1 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout.addItem(spacerItem1)
        spacerItem6 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout.addItem(spacerItem6)
        self.verticalLayout_4.addLayout(self.horizontalLayout)
        spacerItem2 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout_4.addItem(spacerItem2)
        self.horizontalLayout_3 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_3.setObjectName("horizontalLayout_3")

        # self.result_choice_label = QtWidgets.QLabel(self.centralwidget)
        # sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Preferred, QtWidgets.QSizePolicy.Preferred)
        # sizePolicy.setHorizontalStretch(1)
        # sizePolicy.setVerticalStretch(0)
        # sizePolicy.setHeightForWidth(self.result_choice_label.sizePolicy().hasHeightForWidth())
        # self.result_choice_label.setSizePolicy(sizePolicy)
        # self.result_choice_label.setAlignment(QtCore.Qt.AlignCenter | QtCore.Qt.AlignTrailing | QtCore.Qt.AlignVCenter)
        # self.result_choice_label.setObjectName("result_choice_label")
        # self.horizontalLayout_3.addWidget(self.result_choice_label)
        # self.result_comboBox = QtWidgets.QComboBox(self.centralwidget)
        # sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Preferred)
        # sizePolicy.setHorizontalStretch(2)
        # sizePolicy.setVerticalStretch(0)
        # sizePolicy.setHeightForWidth(self.result_comboBox.sizePolicy().hasHeightForWidth())
        # self.result_comboBox.setSizePolicy(sizePolicy)
        # self.result_comboBox.setIconSize(QtCore.QSize(16, 16))
        # self.result_comboBox.setObjectName("res_comboBox")
        # self.result_comboBox.addItem("0")
        # self.horizontalLayout_3.addWidget(self.result_comboBox)

        spacerItem3 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_3.addItem(spacerItem3)
        spacerItem5 = QtWidgets.QSpacerItem(40, 20, QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Minimum)
        self.horizontalLayout_3.addItem(spacerItem5)
        self.verticalLayout_4.addLayout(self.horizontalLayout_3)
        spacerItem4 = QtWidgets.QSpacerItem(20, 40, QtWidgets.QSizePolicy.Minimum, QtWidgets.QSizePolicy.Expanding)
        self.verticalLayout_4.addItem(spacerItem4)
        self.gridLayout.addLayout(self.verticalLayout_4, 2, 0, 1, 1)

        # 在 verticalLayout 中添加一个水平布局用于放置导出按钮
        self.export_layout = QtWidgets.QHBoxLayout()
        self.verticalLayout.addLayout(self.export_layout)

        # 添加导出按钮
        self.export_btn = QtWidgets.QPushButton(self.widget1)
        self.export_btn.setObjectName("export_btn")
        self.export_btn.setStyleSheet("""
            QPushButton {
                background-color: white;
                border-radius: 4px;
                padding: 6px 12px;
                color: #5c8ac3;
                font-weight: bold;
            }
            QPushButton:hover {
                background-color: #f0f0f0;
            }
        """)
        self.export_layout.addStretch()  # 添加弹簧
        self.export_layout.addWidget(self.export_btn)
        self.export_layout.addStretch()  # 添加弹簧

        MainWindow.setCentralWidget(self.centralwidget)

        self.layout.addLayout(self.gridLayout)  # 把主体部分加入垂直布局
        # self.layout.addStretch(2)

        # 返回footer组件
        self.bottom_layout, self.evaluate_time, self.pass_time = create_bottom()
        # self.layout.addLayout(self.bottom_layout)

        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)

    def retranslateUi(self, MainWindow):
        """
        重新翻译UI
        
        参数:
        MainWindow (QMainWindow): 主窗口对象
        
        功能:
        - 设置窗口标题
        - 设置各个标签和按钮的文本
        - 设置字体
        - 设置样式
        """
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "长远航作业应激神经系统功能预警评估系统"))
        self.life_label.setText(_translate("MainWindow", "当前评估结果"))
        self.status_label.setText(_translate("MainWindow", "EEG特征图"))
        self.pressure_curve_label.setText(_translate("MainWindow", "历史评估结果"))

        font = QFont()
        font.setFamily("Microsoft YaHei")  # 微软雅黑
        self.life_label.setFont(font)
        self.status_label.setFont(font)
        self.pressure_curve_label.setFont(font)

        # self.time_choice_label.setFont(font)
        # self.time_comboBox.setFont(font)
        # self.result_choice_label.setFont(font)
        # self.result_comboBox.setFont(font)

        self.life_label.setStyleSheet("font-size:25px")
        self.status_label.setStyleSheet("font-size:25px")
        self.pressure_curve_label.setStyleSheet("font-size:25px")

        # self.time_choice_label.setStyleSheet("font-size:25px")
        # self.result_choice_label.setStyleSheet("font-size:25px")
        #
        # self.time_comboBox.setStyleSheet("font-size:25px;padding-left:20px;padding-top:10px;padding-bottom:10px;"
        #                                  "border-radius:8px;border:2px solid #316eb5")
        # self.result_comboBox.setStyleSheet("font-size:25px;padding-left:20px;padding-top:10px;padding-bottom:10px;"
        #                                    "border-radius:8px;border:2px solid #316eb5")


        self.health_label.setText(_translate("MainWindow", "普通应激"))
        self.acoustic_label.setText(_translate("MainWindow", "抑郁状态"))
        self.mechanical_label.setText(_translate("MainWindow", "焦虑状态"))

        self.pushButton.setText(_translate("MainWindow", "Prev"))
        self.pushButton_2.setText(_translate("MainWindow", "Next"))

        self.health_label.setFont(font)
        self.acoustic_label.setFont(font)
        self.mechanical_label.setFont(font)

        self.health_label.setStyleSheet("font-size:25px;color:black")
        self.acoustic_label.setStyleSheet("font-size:25px")
        self.mechanical_label.setStyleSheet("font-size:25px")

        self.tableWidget.horizontalHeader().setStyleSheet(
            "QHeaderView::section{background-color:#5c8ac3;font-size:11pt;color: black;};")
        self.tableWidget.setStyleSheet("background-color:#d4e2f4; color:black; border:1px solid #5c8ac3")

        self.export_btn.setText(_translate("MainWindow", "导出结果"))
        self.export_btn.setFont(font)

